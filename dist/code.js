"use strict";
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function __awaiter(e,t,n,i){return new(n||(n=Promise))((function(a,o){function r(e){try{l(i.next(e))}catch(e){o(e)}}function s(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,s)}l((i=i.apply(e,t||[])).next())}))}function nodeRemovedByUser(e){return!e||(null===e.parent||null===e.parent.parent)}function centerInViewport(e){e.x=figma.viewport.center.x-e.width/2,e.y=figma.viewport.center.y-e.height/2}function sortNodesByPosition(e){var t=e.map(e=>e);return t.sort((e,t)=>e.x-t.x),t.sort((e,t)=>e.y-t.y)}function unwrapExports(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function createCommonjsModule(e,t){return e(t={exports:{}},t.exports),t.exports}var dist=createCommonjsModule((function(module,exports){async function getClientStorageAsync(e){return await figma.clientStorage.getAsync(e)}function setClientStorageAsync(e,t){return figma.clientStorage.setAsync(e,t)}async function updateClientStorageAsync(e,t){var n=await figma.clientStorage.getAsync(e);if(n=t(n))return figma.clientStorage.setAsync(e,n),n;n=null}Object.defineProperty(exports,"__esModule",{value:!0});const eventListeners=[],dispatchEvent=(e,t)=>{figma.ui.postMessage({action:e,data:t})},handleEvent=(e,t)=>{eventListeners.push({action:e,callback:t})};function isObjLiteral(e){var t=e;return"object"==typeof e&&null!==e&&function(){for(;null!==Object.getPrototypeOf(t=Object.getPrototypeOf(t)););return Object.getPrototypeOf(e)===t}()}figma.ui.onmessage=e=>{for(let t of eventListeners)e.action===t.action&&t.callback(e.data)};const nodeProps=["id","parent","name","removed","visible","locked","children","constraints","absoluteTransform","relativeTransform","x","y","rotation","width","height","constrainProportions","layoutAlign","layoutGrow","opacity","blendMode","isMask","effects","effectStyleId","expanded","backgrounds","backgroundStyleId","fills","strokes","strokeWeight","strokeMiterLimit","strokeAlign","strokeCap","strokeJoin","dashPattern","fillStyleId","strokeStyleId","cornerRadius","cornerSmoothing","topLeftRadius","topRightRadius","bottomLeftRadius","bottomRightRadius","exportSettings","overflowDirection","numberOfFixedChildren","overlayPositionType","overlayBackground","overlayBackgroundInteraction","reactions","description","remote","key","layoutMode","primaryAxisSizingMode","counterAxisSizingMode","primaryAxisAlignItems","counterAxisAlignItems","paddingLeft","paddingRight","paddingTop","paddingBottom","itemSpacing","layoutGrids","gridStyleId","clipsContent","guides","type","strokeTopWeight","strokeBottomWeight","strokeRightWeight","strokeLeftWeight"],readOnly=["id","parent","removed","children","absoluteTransform","width","height","overlayPositionType","overlayBackground","overlayBackgroundInteraction","reactions","remote","key","type","masterComponent","mainComponent"];function copyPaste(e,t,...n){var i,a;t&&0===Object.keys(t).length&&t.constructor===Object&&(i=!0),n[0],n[1],"object"==typeof n[0]&&"function"!=typeof n[0]&&(a=n[0]),"object"==typeof n[0]&&"function"!=typeof n[0]&&(a=n[0]),a||(a={});const{include:o,exclude:r,withoutRelations:s,removeConflicts:l}=a;let d=nodeProps.filter((function(e){return!readOnly.includes(e)}));o&&(d=o.filter((function(e){return!readOnly.includes(e)}))),r&&(d=d.filter((function(e){return!r.concat(readOnly).includes(e)}))),t&&!i&&(d=d.filter((function(e){return!["id","type"].includes(e)})));var c={};let g;i&&(void 0===c.id&&(c.id=e.id),void 0===c.type&&(c.type=e.type),e.key&&(c.key=e.key)),g=isObjLiteral(e)?Object.entries(e):Object.entries(Object.getOwnPropertyDescriptors(e.__proto__));for(const[t,n]of g)if(d.includes(t))try{"symbol"==typeof c[t]?c[t]="Mixed":isObjLiteral(e)?c[t]=n:c[t]=n.get.call(e)}catch(e){c[t]=void 0}return l||(!c.fillStyleId&&c.fills?delete c.fillStyleId:delete c.fills,!c.strokeStyleId&&c.strokes?delete c.strokeStyleId:delete c.strokes,!c.backgroundStyleId&&c.backgrounds?delete c.backgroundStyleId:delete c.backgrounds,!c.effectStyleId&&c.effects?delete c.effectStyleId:delete c.effects,!c.gridStyleId&&c.layoutGrids?delete c.gridStyleId:delete c.layoutGrids,c.textStyleId?(delete c.fontName,delete c.fontSize,delete c.letterSpacing,delete c.lineHeight,delete c.paragraphIndent,delete c.paragraphSpacing,delete c.textCase,delete c.textDecoration):delete c.textStyleId,c.cornerRadius!==figma.mixed?(delete c.topLeftRadius,delete c.topRightRadius,delete c.bottomLeftRadius,delete c.bottomRightRadius):delete c.cornerRadius),i&&e.parent&&!s&&(c.parent={id:e.parent.id,type:e.parent.type}),i&&("FRAME"!==e.type&&"COMPONENT"!==e.type&&"COMPONENT_SET"!==e.type&&"PAGE"!==e.type&&"GROUP"!==e.type&&"INSTANCE"!==e.type&&"DOCUMENT"!==e.type&&"BOOLEAN_OPERATION"!==e.type||e.children&&!s&&(c.children=e.children.map(e=>copyPaste(e,{},{withoutRelations:s}))),"INSTANCE"===e.type&&e.mainComponent&&!s&&(c.masterComponent=copyPaste(e.mainComponent,{},{withoutRelations:s}))),"FRAME"===t.type&&"COMPONENT"===t.type&&"COMPONENT_SET"===t.type||delete c.backgrounds,Object.assign(t,c),t}function convertToFrame(e){if("INSTANCE"===e.type)return e.detachInstance();if("COMPONENT"===e.type){let t=e.parent,n=e.createInstance().detachInstance();return t.appendChild(n),copyPaste(e,n,{include:["x","y"]}),figma.currentPage.appendChild(n),e.remove(),n}if("RECTANGLE"===e.type||"GROUP"===e.type){let t=figma.createFrame();return t.resizeWithoutConstraints(e.width,e.height),copyPaste(e,t),e.remove(),t}return"FRAME"===e.type?e:void 0}function moveChildren(e,t){let n=e.children,i=n.length;for(let e=0;e<i;e++){let i=n[e];t.appendChild(i)}return t}function convertToComponent(e){const t=figma.createComponent();return e=convertToFrame(e),t.resizeWithoutConstraints(e.width,e.height),copyPaste(e,t),moveChildren(e,t),e.remove(),t}function getPluginData(node,key,opts){var data;if(data=node.getPluginData(key),data=data?"string"==typeof data&&data.startsWith(">>>")?data:JSON.parse(data):void 0,"string"==typeof data&&data.startsWith(">>>")){data=data.slice(3);var string="(() => {\n            return "+data+"\n            })()";data=eval(string)}return data}function setPluginData(e,t,n){return"string"==typeof n&&n.startsWith(">>>")?(e.setPluginData(t,n),n):(e.setPluginData(t,JSON.stringify(n)),JSON.stringify(n))}function updatePluginData(e,t,n){var i;return(i=n(i=e.getPluginData(t)?JSON.parse(e.getPluginData(t)):null))||(i=null),e.setPluginData(t,JSON.stringify(i)),i}function flipX(e){let t=e.relativeTransform,n=e.absoluteRenderBounds,[[i,a,o],[r,s,l]]=[...t],d=i<0?0:1,c=n.x+n.width*d;e.relativeTransform=[[i*=-1,a*=-1,c],[r,s,l]]}function flipY(e){let t=e.relativeTransform,n=e.absoluteRenderBounds,i=n.y+n.height/2-e.y,a=e.y+2*i,[[o,r,s],[l,d,c]]=[...t];e.relativeTransform=[[o,r,s],[l*=-1,d*=-1,a]]}function removeChildren(e){for(let t=e.children.length-1;t>=0;t--)e.children[t].remove()}function resize(e,t,n){0===t&&(t=1/Number.MAX_SAFE_INTEGER),0===n&&(n=1/Number.MAX_SAFE_INTEGER);let i=e.parent;if(e.resize(t<.01?1:t,n<.01?1:n),t<.01||n<.01){let a=figma.createRectangle();a.resize(t<.01?1/t:t,n<.01?1/n:n);let o=figma.group([e,a],figma.currentPage);o.resize(t<.01?1:t,n<.01?1:n),i.appendChild(e),o.remove()}return e}function ungroup(e,t){let n=[],i=e.children;for(let e=0;e<i.length;e++)t.appendChild(i[e]),n.push(i[e]);return"GROUP"!==e.type&&e.remove(),n}function hexToPaints(e){return"string"==typeof e&&(e=[e]),e.map(e=>{let t=hexToRgb(e);if(null==t)throw"Color is null";return{type:"SOLID",color:t.color,opacity:t.opacity}})}function hexToRgb(e){3==(e=e.replace("#","")).length&&(e+="F"),4==e.length&&(e=e.replace(new RegExp("([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])"),"$1$1$2$2$3$3$4$4")),6==e.length&&(e+="FF"),console.log(e);var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{color:{r:parseInt(t[1],16)/255,g:parseInt(t[2],16)/255,b:parseInt(t[3],16)/255},opacity:parseFloat((parseInt(t[4],16)/255).toFixed(2))}:null}function isInsideInstance(e){const t=e.parent;return!!t&&(!(!t||"INSTANCE"!==t.type)||(!t||"PAGE"!==t.type)&&isInsideInstance(t))}function getParentInstance(e){const t=e.parent;if("PAGE"!==e.type)return"INSTANCE"===t.type?t:getParentInstance(t)}function getNodeIndex(e){return e.parent.children.indexOf(e)}function getNodeLocation(e,t=figma.currentPage,n=[]){if(!e||!t)return console.error("Node or container not defined"),!1;if(e.id===t.id)return n.length>0&&(n.push(t),n.reverse());if(e.parent){var i=getNodeIndex(e);return n.push(i),getNodeLocation(e.parent,t,n)}return!1}function getInstanceCounterpartUsingLocation(e,t=getParentInstance(e),n=getNodeLocation(e,t),i=(null==t?void 0:t.mainComponent)){if(n){return n.shift(),i&&i.children?function e(t,i=0){for(var a=0;a<t.length;a++){var o=t[a],r=n[i];if(getNodeIndex(o)===r){if(n.length-1===i)return o;if(o.children)return e(o.children,i+1)}}}(i.children):e.mainComponent}}function getInstanceCounterpart(e){if(isInsideInstance(e)){var t=figma.getNodeById(e.id.split(";").slice(-1)[0]);return t||(getParentInstance(e),getInstanceCounterpartUsingLocation(e))}}function getNodeDepth(e,t=figma.currentPage,n=0){if(e)return e.id===t.id?n:(n+=1,getNodeDepth(e.parent,t,n))}function getNoneGroupParent(e){var t,n,i;return"BOOLEAN_OPERATION"===(null===(t=e.parent)||void 0===t?void 0:t.type)||"COMPONENT_SET"===(null===(n=e.parent)||void 0===n?void 0:n.type)||"GROUP"===(null===(i=e.parent)||void 0===i?void 0:i.type)?getNoneGroupParent(e.parent):e.parent}const nodeToObject=(e,t)=>{const n=Object.entries(Object.getOwnPropertyDescriptors(e.__proto__)),i=["parent","children","removed","masterComponent","horizontalPadding","verticalPadding"],a={id:e.id,type:e.type};for(const[t,o]of n)if(o.get&&!i.includes(t))try{"symbol"==typeof a[t]?a[t]="Mixed":a[t]=o.get.call(e)}catch(e){a[t]=void 0}return e.parent&&!(null==t?void 0:t.withoutRelations)&&(a.parent={id:e.parent.id,type:e.parent.type}),e.children&&!(null==t?void 0:t.withoutRelations)&&(a.children=e.children.map(e=>nodeToObject(e,t))),e.masterComponent&&!(null==t?void 0:t.withoutRelations)&&(a.masterComponent=nodeToObject(e.masterComponent,t)),(null==t?void 0:t.removeConflicts)||(!a.fillStyleId&&a.fills?delete a.fillStyleId:delete a.fills,!a.strokeStyleId&&a.strokes?delete a.strokeStyleId:delete a.strokes,!a.backgroundStyleId&&a.backgrounds?delete a.backgroundStyleId:delete a.backgrounds,!a.effectStyleId&&a.effects?delete a.effectStyleId:delete a.effects,!a.gridStyleId&&a.layoutGrids?delete a.gridStyleId:delete a.layoutGrids,a.textStyleId?(delete a.fontName,delete a.fontSize,delete a.letterSpacing,delete a.lineHeight,delete a.paragraphIndent,delete a.paragraphSpacing,delete a.textCase,delete a.textDecoration):delete a.textStyleId,a.cornerRadius!==figma.mixed?(delete a.topLeftRadius,delete a.topRightRadius,delete a.bottomLeftRadius,delete a.bottomRightRadius):delete a.cornerRadius),(null==t?void 0:t.pluginData)&&e.getPluginDataKeys().length>0&&(a.pluginData={},e.getPluginDataKeys().forEach(t=>{a.pluginData[t]=e.getPluginData(t)}),0===Object.getOwnPropertyNames(a.pluginData).length&&delete a.pluginData),(null==t?void 0:t.sharedPluginDataNamespaces)&&(a.sharedPluginData={},null==t||t.sharedPluginDataNamespaces.forEach(t=>{a.sharedPluginData[t]={},e.getSharedPluginDataKeys(t).forEach(n=>{a.sharedPluginData[t][n]=e.getSharedPluginData(t,n)}),0===Object.getOwnPropertyNames(a.sharedPluginData[t]).length&&delete a.sharedPluginData[t]}),0===Object.getOwnPropertyNames(a.sharedPluginData).length&&delete a.sharedPluginData),a};function getOverrides(e,t){if(isInsideInstance(e)){var n=getInstanceCounterpart(e),i=nodeToObject(e),a={};if(!t){for(let[e,t]of Object.entries(i))"key"!==e&&"mainComponent"!==e&&"absoluteTransform"!==e&&"type"!==e&&"id"!==e&&"parent"!==e&&"children"!==e&&"masterComponent"!==e&&"mainComponent"!==e&&"horizontalPadding"!==e&&"verticalPadding"!==e&&"reactions"!==e&&"overlayPositionType"!==e&&"overflowDirection"!==e&&"numberOfFixedChildren"!==e&&"overlayBackground"!==e&&"overlayBackgroundInteraction"!==e&&"remote"!==e&&"defaultVariant"!==e&&"hasMissingFont"!==e&&"exportSettings"!==e&&"autoRename"!==e&&JSON.stringify(i[e])!==JSON.stringify(n[e])&&(a[e]=t);return"{}"!==JSON.stringify(a)&&a}if("key"!==t&&"mainComponent"!==t&&"absoluteTransform"!==t&&"type"!==t&&"id"!==t&&"parent"!==t&&"children"!==t&&"masterComponent"!==t&&"mainComponent"!==t&&"horizontalPadding"!==t&&"verticalPadding"!==t&&"reactions"!==t&&"overlayPositionType"!==t&&"overflowDirection"!==t&&"numberOfFixedChildren"!==t&&"overlayBackground"!==t&&"overlayBackgroundInteraction"!==t&&"remote"!==t&&"defaultVariant"!==t&&"hasMissingFont"!==t&&"exportSettings"!==t&&"autoRename"!==t&&JSON.stringify(e[t])!==JSON.stringify(n[t]))return e[t]}}function getPageNode(e){return"PAGE"===e.parent.type?e.parent:getPageNode(e.parent)}function getTopInstance(e){return"PAGE"===e.type?null:isInsideInstance(e)?isInsideInstance(e.parent)?getTopInstance(e.parent):e.parent:void 0}function makeComponent(e){Array.isArray(e)||(e=[e]);let t=e[0].parent;if(1!==e.length||"FRAME"!==e[0].type&&"GROUP"!==e[0].type){let n=figma.createComponent(),i=figma.group(e,t);return n.resizeWithoutConstraints(i.width,i.height),copyPaste(i,n,{include:["x","y"]}),i.x=0,i.y=0,console.log("where the children go"),1===e.length&&(n.name=e[0].name),ungroup(i,n),n}return convertToComponent(e[0])}function isFunction(e){return e&&"[object Function]"==={}.toString.call(e)}function replace(e,t){let n,i,a,o=!1,r=[];if(Array.isArray(e)){i=getNodeIndex(e[0]),a=e[0].parent;for(let t=0;t<e.length;t++){let n=e[t].clone();r.push(n)}n=figma.group(r,a,i),n.x=e[0].x,n.y=e[0].y,o=!0,i=getNodeIndex(n),a=n.parent}else n=nodeToObject(e),i=getNodeIndex(e),a=e.parent;let s,l=n.width,d=n.height;if(s=isFunction(t)?t(e):t,s)return s.resizeWithoutConstraints(l,d),copyPaste(n,s,{include:["x","y","constraints"]}),s.x=n.x,s.y=n.y,a.insertChild(i,s),o&&n.remove(),figma.getNodeById(e.id)&&e.remove(),s}function setDocumentData(e,t){return setPluginData(figma.root,e,t)}function getDocumentData(e){return getPluginData(figma.root,e)}function updateDocumentData(e,t,n){return updatePluginData(e,t,n)}function genUID(){return`${figma.currentUser.id+"-"+figma.currentUser.sessionId+"-"+(new Date).valueOf()}`}function addUniqueToArray(e,t){return-1===e.findIndex(e=>e.id===t.id)&&e.push(t),e}function isUnique(e,t){return-1===e.findIndex(e=>e.id===t.id)}function move(e,t,n,i){let a=e.splice(t,1)[0];return i?e.splice(n,0,i):e.splice(n,0,a),e}function upsert(e,t,n){e.some((i,a)=>{let o=!1;return!0===t(e[a])&&(o=!0,n?move(e,a,0,n):move(e,a,0)),o});let i=!1;return e.map((n,a)=>{!0===t(e[a])&&(i=!0)}),i||e.unshift(n),e}function File(e){this.id=getDocumentData("fileId")||setDocumentData("fileId",genUID()).replace(/['"]+/g,""),this.name=figma.root.name,this.firstVisited=(new Date).toISOString(),this.lastVisited=(new Date).toISOString(),e?(this.data=e,setDocumentData("fileData",e)):this.data=getDocumentData("fileData")}async function getRecentFilesAsync(e,t){t=t||{},e=e||getDocumentData("fileData");let n=await updateClientStorageAsync("recentFiles",n=>{n=n||[];const i=new File(e);if(0===n.length)e.length>0&&n.push(i);else{if(!isUnique(n,i)){let[e,t,n]=i.id.split("-");e===figma.currentUser.id&&t!==figma.currentUser.sessionId.toString()&&figma.root.name.endsWith("(Copy)")&&!getDocumentData("duplicateResolved")&&(i.id=setDocumentData("fileId",genUID()).replace(/['"]+/g,""),setDocumentData("duplicateResolved",!0))}figma.root.name.endsWith("(Copy)")||setDocumentData("duplicateResolved",""),addUniqueToArray(n,i),n.length>0&&(n.filter((t,a)=>{t.id===i.id&&(t.name=i.name,t.lastVisited=(new Date).toISOString(),t.data=i.data,setDocumentData("fileData",e),(!e||Array.isArray(e)&&0===e.length)&&n.splice(a,1))}),n.sort((e,t)=>e.lastVisited===t.lastVisited||void 0===e.lastVisited||void 0===t.lastVisited?0:e.lastVisited>t.lastVisited?-1:1),t.expire&&n.map(e=>{if(new Date(e.lastVisited).valueOf()<(new Date).valueOf()-t.expire){let t=n.indexOf(e);-1!==t&&n.splice(t,1)}}),t.limit&&(n=n.slice(0,t.limit)))}return n});return n.length>0&&(n=n.filter(e=>!(e.id===getPluginData(figma.root,"fileId")))),n}async function addRecentFileAsync(e){return await updateClientStorageAsync("recentFiles",t=>t=upsert(t=t||[],t=>t.id===e.id,e))}async function getRemoteFilesAsync(e){var t=await getClientStorageAsync("recentFiles");return updatePluginData(figma.root,"remoteFiles",n=>{if(n=n||[],e){let i=n.find(t=>t.id===e),a=t.find(t=>t.id===e);i||n.push(a)}if(t.length>0){for(let e=0;e<n.length;e++){var i=n[e];for(let o=0;o<t.length;o++){var a=t[o];a.id===i.id&&(n[e]=a)}}n=n.filter(e=>!(e.id===getPluginData(figma.root,"fileId")))}if(n.length>0)for(var o=0;o<n.length;o++){var r=n[o];r.data[0]&&figma.importComponentByKeyAsync(r.data[0].component.key).then(e=>{var t=getPluginData(e,"template");updatePluginData(figma.root,"remoteFiles",e=>(e.map(e=>{e.id===t.file.id&&(e.name=t.file.name)}),e))}).catch(e=>{console.log(e)})}return n})}function removeRemoteFile(e){return updatePluginData(figma.root,"remoteFiles",t=>{let n=t.findIndex(t=>t.id===e);return-1!==n&&t.splice(n,1),t})}function incrementName(e,t){let n=e;t&&t.length>1&&(t.sort((e,t)=>e.name===t.name?0:e.name>t.name?-1:1),n=t[0].name);let i=n.match(/^(.*\S)(\s*)(\d+)$/);return!i||t&&0===t.length||(e=`${i[1]}${i[2]}${parseInt(i[3],10)+1}`),e}async function prompt(e,t,n,i){let a=Date.now(),o=i?`placeholder="${n}"`:`value="${n}"`,r=i?"disabled":"";return figma.showUI(`\n\n<body>  \n    <h2>${e}</h2>\n\n    <p>${t}</p>\n        <input id="prompt" type="text" ${o} onkeyup="success()" "/>\n        <button id="button" ${r} onclick="myFunction()">Ok</button>\n    <script>\n\n\nconst input = document.getElementById("prompt");\ninput.focus()\n\n\ninput.addEventListener("keyup", function(event) {\n\n  if (event.keyCode === 13) {\n\n    event.preventDefault();\n\n    document.getElementById("button").click();\n  }\n});\n\n\n    function success() {\n        if(document.getElementById("prompt").value==="") { \n               document.getElementById('button').disabled = true; \n           } else { \n               document.getElementById('button').disabled = false;\n           }\n       }\n\n        function myFunction(){\n            parent.postMessage({ pluginMessage: {"type": 'prompt${a}',   "value": document.getElementById('prompt').value} }, '*')\n        }\n\n\n\n    <\/script>\n</body>\n<style>\nbody {\n    padding: 20px;\n    flex-direction: column;\n    margin: 0\n}\n\nh2,\np {\n    font-size: 13px;\n    color: #000;\n    margin: 0 0 8px\n}\n\np {\n    font-size: 11px;\n    color: #333\n}\n\nbutton,\ninput {\n    padding: 4px;\n    font-size: 11px;\n    font-weight: 400\n}\n\nbody,\nbutton {\n    display: flex;\n    font-family: 'Inter', sans-serif\n}\n\nbutton {\n    align-items: center;\n    border-radius: 4px;\n    color: #fff;\n    flex-shrink: 0;\n    font-weight: 500;\n    height: 32px;\n    padding: 0 8px;\n    text-decoration: none;\n    outline: 0;\n    border: 2px solid transparent;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n    position: fixed;\n    bottom: 20px;\n    right: 20px;\n    min-width: 64px;\n    justify-content: center;\n    background-color: #18a0fb\n}\n\nbutton:disabled {\n    background-color: #b3b3b3\n}\n\ndiv {\n    display: flex;\n    flex-direction: row\n}\n</style>\n`,{width:300,height:150}),new Promise(e=>{figma.ui.onmessage=e=>{e.type=="prompt"+a&&console.log(e.value)}}),await new Promise((e,t)=>{figma.ui.onmessage=t=>{t.type=="prompt"+a&&(figma.ui.close(),e(t.value))},figma.on("close",()=>{t("plugin closed")})})}exports.addRecentFileAsync=addRecentFileAsync,exports.convertToComponent=convertToComponent,exports.convertToFrame=convertToFrame,exports.copyPaste=copyPaste,exports.dispatchEvent=dispatchEvent,exports.flipX=flipX,exports.flipY=flipY,exports.genUID=genUID,exports.getClientStorageAsync=getClientStorageAsync,exports.getDocumentData=getDocumentData,exports.getInstanceCounterpart=getInstanceCounterpart,exports.getInstanceCounterpartUsingLocation=getInstanceCounterpartUsingLocation,exports.getNodeDepth=getNodeDepth,exports.getNodeIndex=getNodeIndex,exports.getNodeLocation=getNodeLocation,exports.getNoneGroupParent=getNoneGroupParent,exports.getOverrides=getOverrides,exports.getPageNode=getPageNode,exports.getParentInstance=getParentInstance,exports.getPluginData=getPluginData,exports.getRecentFilesAsync=getRecentFilesAsync,exports.getRemoteFilesAsync=getRemoteFilesAsync,exports.getTopInstance=getTopInstance,exports.handleEvent=handleEvent,exports.hexToPaints=hexToPaints,exports.hexToRgb=hexToRgb,exports.incrementName=incrementName,exports.isInsideInstance=isInsideInstance,exports.makeComponent=makeComponent,exports.nodeToObject=nodeToObject,exports.prompt=prompt,exports.removeChildren=removeChildren,exports.removeRemoteFile=removeRemoteFile,exports.replace=replace,exports.resize=resize,exports.setClientStorageAsync=setClientStorageAsync,exports.setDocumentData=setDocumentData,exports.setPluginData=setPluginData,exports.ungroup=ungroup,exports.updateClientStorageAsync=updateClientStorageAsync,exports.updateDocumentData=updateDocumentData,exports.updatePluginData=updatePluginData}));unwrapExports(dist);var dist_1=dist.addRecentFileAsync,dist_2=dist.convertToComponent,dist_3=dist.convertToFrame,dist_4=dist.copyPaste,dist_5=dist.dispatchEvent,dist_6=dist.flipX,dist_7=dist.flipY,dist_8=dist.genUID,dist_9=dist.getClientStorageAsync,dist_10=dist.getDocumentData,dist_11=dist.getInstanceCounterpart,dist_12=dist.getInstanceCounterpartUsingLocation,dist_13=dist.getNodeDepth,dist_14=dist.getNodeIndex,dist_15=dist.getNodeLocation,dist_16=dist.getNoneGroupParent,dist_17=dist.getOverrides,dist_18=dist.getPageNode,dist_19=dist.getParentInstance,dist_20=dist.getPluginData,dist_21=dist.getRecentFilesAsync,dist_22=dist.getRemoteFilesAsync,dist_23=dist.getTopInstance,dist_24=dist.handleEvent,dist_25=dist.hexToPaints,dist_26=dist.hexToRgb,dist_27=dist.incrementName,dist_28=dist.isInsideInstance,dist_29=dist.makeComponent,dist_30=dist.nodeToObject,dist_31=dist.prompt,dist_32=dist.removeChildren,dist_33=dist.removeRemoteFile,dist_34=dist.replace,dist_35=dist.resize,dist_36=dist.setClientStorageAsync,dist_37=dist.setDocumentData,dist_38=dist.setPluginData,dist_39=dist.ungroup,dist_40=dist.updateClientStorageAsync,dist_41=dist.updateDocumentData,dist_42=dist.updatePluginData;const styleProps=["opacity","blendMode","effects","effectStyleId","backgrounds","backgroundStyleId","fills","strokes","strokeWeight","strokeMiterLimit","strokeAlign","strokeCap","strokeJoin","dashPattern","fillStyleId","strokeStyleId","cornerRadius","cornerSmoothing","topLeftRadius","topRightRadius","bottomLeftRadius","bottomRightRadius","paddingLeft","paddingRight","paddingTop","paddingBottom","itemSpacing","layoutGrids","gridStyleId"];function copyPasteStyle(e,t){return t?dist_4(e,t,{include:styleProps,exclude:["autoRename","characters","fontName","fontSize","rotation","primaryAxisSizingMode","counterAxisSizingMode","primaryAxisAlignItems","counterAxisAlignItems","constrainProportions","layoutAlign","layoutGrow","layoutMode"]}):dist_4(e,{})}function getInstances(e){return figma.root.findAll(t=>t.getPluginData("styleId")===e)}function addLayerStyle(e){return __awaiter(this,void 0,void 0,(function*(){var t=getLayerStyles();for(let n=0;n<t.length;n++){if(t[n].id===e.id)return console.log("Layer style already exists"),void figma.notify("Layer style already exists")}var n={id:e.id,node:copyPasteStyle(e),name:e.name};t.push(n),figma.root.setPluginData("styles",JSON.stringify(t))}))}function updateLayerStyle(e,t,n,i){var a=getLayerStyles();a.map(a=>{a.id==e&&(t&&(a.name=t),n&&(a.node=n),i&&(a.id=i))}),figma.root.setPluginData("styles",JSON.stringify(a))}function getLayerStyles(e){var t=figma.root.getPluginData("styles");if(t=""!==t?JSON.parse(t):[],e){var n=t.filter((function(t){return t.id===e}));t=n[0]}return t}function updateInstances(e,t){var n;if(e&&(n=e),t){n=[];var i=figma.root.children,a=i.length;for(let e=0;e<a;e++)i[e].findAll(e=>{e.getPluginData("styleId")===t&&n.push(e)})}for(let e=0;e<n.length;e++){var o,r=n[e],s=r.getPluginData("styleId"),l=figma.getNodeById(s);l?(updateLayerStyle(s,null,copyPasteStyle(o=l)),copyPasteStyle(o,r)):(copyPasteStyle(o=getLayerStyles(s).node,r),console.log("Original node can't be found"))}}function clearLayerStyle(){figma.root.setPluginData("styles",""),console.log("Styles cleared"),figma.closePlugin()}function createStyles(e){return __awaiter(this,void 0,void 0,(function*(){if(e.length>0)if(e.length<=20){e=sortNodesByPosition(e);for(var t=0;t<e.length;t++){var n=e[t];n.setPluginData("styleId",n.id),addLayerStyle(n)}}else figma.notify("Limited to 20 layer styles at a time");else figma.notify("No layers selected")}))}function applyLayerStyle(e,t){var n;n=getLayerStyles(t).node;var i=figma.getNodeById(t);if(e.length<=100)if(e.length>0){for(let o=0;o<e.length;o++){var a=e[o];a.setPluginData("styleId",t),a.setRelaunchData({detachLayerStyle:"Removes association with layer style"}),i?copyPasteStyle(n=i,a):(copyPasteStyle(n,a),console.log("Original node can't be found"))}figma.notify("Layer style applied")}else figma.notify("Please select a layer");else figma.notify("Limited to 100 layers at a time")}function removeLayerStyle(e){var t=getLayerStyles();t.splice(t.findIndex(t=>t.id===e),1),figma.root.setPluginData("styles",JSON.stringify(t)),figma.root.findAll(t=>{t.getPluginData("styleId")===e&&t.setPluginData("styleId","")})}function detachLayerStyle(e){e.setPluginData("styleId",""),e.setRelaunchData({})}function postMessage(){var e=getLayerStyles();figma.ui.postMessage(e)}var nodeBeingEdited=null;function checkNodeBeingEdited(e){if(e&&1===e.length){var t=e[0];t.id===t.getPluginData("styleId")&&(console.log("Selection is main layer style"),nodeBeingEdited=t)}}function updatePreview(e){e&&(updateLayerStyle(e.getPluginData("styleId"),null,copyPasteStyle(e)),postMessage())}if(figma.on("selectionchange",()=>{checkNodeBeingEdited(figma.currentPage.selection),console.log("Selection changed"),nodeBeingEdited&&setInterval(()=>{updatePreview(nodeBeingEdited)},600),0===figma.currentPage.selection.length&&(nodeBeingEdited=null)}),"showStyles"===figma.command&&(figma.showUI(__html__,{width:240,height:360,themeColors:!0}),postMessage(),figma.ui.onmessage=e=>{if("add-style"===e.type&&(createStyles(figma.currentPage.selection),postMessage()),"rename-style"===e.type&&(updateLayerStyle(e.id,e.name),postMessage()),"update-instances"===e.type&&(updateInstances(figma.currentPage.selection,e.id),postMessage()),"update-style"===e.type){var t=copyPasteStyle(n=figma.currentPage.selection[0]);updateLayerStyle(e.id,null,t,n.id),figma.currentPage.selection[0].setPluginData("styleId",n.id),postMessage()}if("edit-layer-style"===e.type){var n;if(nodeRemovedByUser(n=figma.getNodeById(e.id))){var i=(n=figma.createFrame()).id;copyPasteStyle((t=getLayerStyles(e.id)).node,n),centerInViewport(n),n.name=`${t.name}`,figma.viewport.scrollAndZoomIntoView([n]),figma.viewport.zoom=.25,n.setPluginData("styleId",n.id),updateLayerStyle(e.id,null,null,n.id),getInstances(e.id).map(e=>{e.setPluginData("styleId",i)}),figma.currentPage.selection=[n]}else figma.viewport.scrollAndZoomIntoView([n]),figma.viewport.zoom=.25,figma.currentPage=dist_18(n),figma.currentPage.selection=[n];postMessage()}"apply-style"===e.type&&applyLayerStyle(figma.currentPage.selection,e.id),"remove-style"===e.type&&(removeLayerStyle(e.id),postMessage())}),"createStyles"===figma.command&&(createStyles(figma.currentPage.selection),figma.closePlugin()),"updateStyles"===figma.command&&(updateInstances(figma.currentPage.selection),figma.closePlugin()),"clearLayerStyles"===figma.command&&clearLayerStyle(),"copyProperties"===figma.command&&copyPasteStyle(figma.currentPage.selection[0]),"detachLayerStyle"===figma.command){for(var i=0;i<figma.currentPage.selection.length;i++){var node=figma.currentPage.selection[i];detachLayerStyle(node)}figma.notify("Layer style detached"),figma.closePlugin()}
